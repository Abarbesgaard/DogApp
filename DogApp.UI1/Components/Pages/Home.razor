@using DogApp.UI1.Dto
@using DogApp.UI1.TrackController
@attribute [StreamRendering(true)]
@rendermode InteractiveServer

@page "/"

<PageTitle>Home</PageTitle>

@if (tracks !=null)
{
<div class=" container text-left">
    <div class="row align-items-start">

        <div class="col">

            <h1>Bane</h1>
            <ul>
                @foreach (var track in tracks)
                {
                    <li><b>@track.Name</b></li>
                }
            </ul>
        </div>
    </div>
</div>
}
                else
                {
<p>Loading...</p>
                }
@code {
    List<TrackDto> tracks;
    [Inject] private TrackController trackController { get; set; }

    [Inject]
    NavigationManager NavigationManager { get; set; }

    protected override async Task OnInitializedAsync()
    {
       await trackController.Index();
    }
    public async Task EditTrack(TrackDto track)
    {
        NavigationManager.NavigateTo($"/edittrack/{track.Id}");
    }
}
